image: eu.gcr.io/ligatus-prod-public-registry/generic-build-agent:latest

stages:
  - build
  
variables:
  VENDOR_PATH: "/go/src/github.com/influxdata"
  PROJECT_NAME: "telegraf"
  TARGET_DIR: "pinot-distribution/target"

build:
  stage: build
  script:
  - mvn clean package -Dlicense.skip=true -DskipTests -Pbuild-shaded-jar
  
  artifacts:
    paths:
      - ${TARGET_DIR}/pinot-*-pkg.zip
